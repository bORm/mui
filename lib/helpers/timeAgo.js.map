{"version":3,"sources":["helpers/timeAgo.js"],"names":["timeAgo","num","postfix","postfixes","yearsPostfixes","monthsPostfixes","months","years"],"mappings":";;;;;AAAA;;;;;AAKA,SAASA,OAAT,CAAiBC,GAAjB,EACA;AACC;;;;;;AAMA,UAASC,OAAT,CAAiBD,GAAjB,EAAsBE,SAAtB,EACA;AACC;AACAF,QAAMA,MAAM,GAAZ;;AAEA;AACA,MAAIA,MAAM,EAAV,EACA;AACCA,SAAMA,MAAM,EAAZ;AACA;;AAED;AACA,UAAQA,GAAR;AAEC,QAAK,CAAL;AACC,WAAOE,UAAU,CAAV,CAAP;;AAED,QAAK,CAAL,CAAQ,KAAK,CAAL,CAAQ,KAAK,CAAL;AAChB,WAAOA,UAAU,CAAV,CAAP;;AAEA;AACC,WAAOA,UAAU,CAAV,CAAP;AATF;AAWA;;AAED;AACA,KACCC,iBAAiB,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,CADlB;AAAA,KAECC,kBAAkB,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,CAFnB;;AAIA;AACA,KAAMC,SAASL,MAAM,EAArB;;AACA;AACA;AACCM,SAAQ,CAACN,MAAMK,MAAP,IAAiB,EAH1B;;AAKA;AACA,KAAIC,UAAU,CAAd,EACA;AACC,SAAOD,SAAS,GAAT,GAAeJ,QAAQI,MAAR,EAAgBD,eAAhB,CAAtB;AACA;;AAED,KAAIC,WAAW,CAAf,EACA;AACC,SAAOC,QAAQ,GAAR,GAAcL,QAAQK,KAAR,EAAeH,cAAf,CAArB;AACA;;AAED,QAAOG,QACJ,GADI,GACEL,QAAQK,KAAR,EAAeH,cAAf,CADF,GAEJ,GAFI,GAEEE,MAFF,GAGJ,GAHI,GAGEJ,QAAQI,MAAR,EAAgBD,eAAhB,CAHT;AAIA;;kBAEcL,O","file":"timeAgo.js","sourcesContent":["/**\n * Преобразует месяцы в строку вида \"2 года 1 месяц\"\n * @param int $num Количество месяцев\n * @return string\n */\nfunction timeAgo(num)\n{\n\t/**\n\t * Определяет правильное с точки зрения русского языка окончание месяца\n\t * @param int $num\n\t * @param array $postfixes\n\t * @return string\n\t */\n\tfunction postfix(num, postfixes)\n\t{\n\t\t//Делим число без остатка на 100\n\t\tnum = num % 100;\n\n\t\t//Если больше 19, делим его без остатка ещё раз, уже на 10\n\t\tif (num > 19)\n\t\t{\n\t\t\tnum = num % 10;\n\t\t}\n\n\t\t//В зависимости от того, какие числа остались, возвращаем значения\n\t\tswitch (num)\n\t\t{\n\t\t\tcase 1:\n\t\t\t\treturn postfixes[0];\n\n\t\t\tcase 2: case 3: case 4:\n\t\t\treturn postfixes[1];\n\n\t\t\tdefault:\n\t\t\t\treturn postfixes[2];\n\t\t}\n\t}\n\n\t//Определяем массивы с годами и месяцами\n\tconst \n\t\tyearsPostfixes = ['Рік', 'року', 'років'],\n\t\tmonthsPostfixes = ['Місяць', 'місяця', 'місяців'];\n\n\t//Делим начальное число без остатка на 12, получаем количество месяцев\n\tconst months = num % 12,\n\t//Отнимаем из начального числа количество месяцев и делим это на 12,\n\t//получаем количество лет\n\t\tyears = (num - months) / 12;\n\n\t//Возвращаем результат postfix() зависимости от значений $years и $monthes\n\tif (years === 0)\n\t{\n\t\treturn months + ' ' + postfix(months, monthsPostfixes);\n\t}\n\n\tif (months === 0)\n\t{\n\t\treturn years + ' ' + postfix(years, yearsPostfixes);\n\t}\n\n\treturn years\n\t\t+ ' ' + postfix(years, yearsPostfixes)\n\t\t+ ' ' + months\n\t\t+ ' ' + postfix(months, monthsPostfixes);\n}\n\nexport default timeAgo;"]}