{"version":3,"sources":["components/Modal/Modal.js"],"names":["Modal","props","id","size","className","style","closeButton","header","isOpen","onClose","modal","mountTo","other","toggle","before","bodyStyle","after","e","children","scrollWidth","document","body","cssText","scrollDiv","createElement","appendChild","result","offsetWidth","clientWidth","removeChild","hasScroll","window","innerWidth","documentElement","propTypes","string","isRequired","oneOf","oneOfType","bool","array","element","footer","object","func","isMount","onClickOutside","shape","close","callback","defaultProps","desc","displayName"],"mappings":"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","file":"Modal.js","sourcesContent":["import React, {Component, PropTypes} from 'react'\nimport Portal from 'components/Portal/Portal'\nimport Paper from 'components/Paper'\nimport classNames from 'helpers/classNames'\n\nclass Modal extends Component {\n\tstatic propTypes = {\n\t\tid: PropTypes.string.isRequired,\n\t\tsize: PropTypes.oneOf(['large', 'medium', 'small', 'mini']),\n\t\theader: PropTypes.oneOfType([\n\t\t\tPropTypes.bool, PropTypes.array, PropTypes.element, PropTypes.string\n\t\t]),\n\t\tbody: PropTypes.oneOfType([\n\t\t\tPropTypes.bool, PropTypes.element, PropTypes.array\n\t\t]),\n\t\tfooter: PropTypes.oneOfType([\n\t\t\tPropTypes.bool, PropTypes.array, PropTypes.element\n\t\t]),\n\t\tclassName: PropTypes.oneOfType([\n\t\t\tPropTypes.bool, PropTypes.string\n\t\t]),\n\t\tstyle: PropTypes.object,\n\t\tisOpen: PropTypes.bool,\n\t\tonClose: PropTypes.oneOfType([\n\t\t\tPropTypes.bool, PropTypes.func\n\t\t]),\n\t\tisMount: PropTypes.bool,\n\t\tcloseButton: PropTypes.bool,\n\t\tonClickOutside: PropTypes.shape({\n\t\t\tclose: PropTypes.bool,\n\t\t\tcallback: PropTypes.func\n\t\t}),\n\t\tmodal: PropTypes.bool\n\t};\n\tstatic defaultProps = {\n\t\tsize: 'medium',\n\t\theader: [],\n\t\tbody: false,\n\t\tdesc: false,\n\t\tfooter: false,\n\t\tclassName: false,\n\t\tstyle: {},\n\t\tisOpen: false,\n\t\tonClose: false,\n\t\tisMount: false,\n\t\tcloseButton: true,\n\t\tonClickOutside: {\n\t\t\tclose: true,\n\t\t\tcallback: ()=>{}\n\t\t},\n\t\tmodal: true,\n\t\tdisplayName: 'modal',\n\t\tmountTo: 'modals'\n\t};\n\n\tstatic toggle = Portal.toggle;\n\n\t/*componentDidUpdate(props){\n\t\tconst { id, isOpen } = this.props;\n\t\tif(!isOpen && props.isOpen){\n\t\t\tModal.toggle(id, false);\n\t\t}else if(isOpen && !props.isOpen){\n\t\t\tModal.toggle(id, true);\n\t\t}\n\t}*/\n\n\tstatic bodyStyle(isOpen, modal) {\n\t\tif (isOpen && modal) {\n\t\t\tconst scrollWidth = Modal.scrollWidth();\n\t\t\tdocument.body.style.cssText =\n\t\t\t\t'overflow:hidden !important;'+\n\t\t\t\t'padding-right:' + scrollWidth + 'px';\n\t\t}\telse {\n\t\t\tdocument.body.style.cssText = '';\n\t\t}\n\t}\n\n\tstatic scrollWidth() {\n\t\tlet scrollDiv = document.createElement(\"div\");\n\t\tscrollDiv.style.cssText = 'width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px';\n\t\tdocument.body.appendChild(scrollDiv);\n\t\tlet result = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t//console.log(result);\n\t\tdocument.body.removeChild(scrollDiv);\n\t\tlet hasScroll = window.innerWidth > document.documentElement.clientWidth;\n\t\treturn hasScroll ? result : 0;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tid, size, className, style\n\t\t\t, closeButton, header\n\t\t\t, isOpen, onClose, modal, mountTo\n\t\t\t, ...other\n\t\t} = this.props;\n\n\t\tconst toggle = {\n\t\t\tbefore: (id, isOpen)=>{\n\t\t\t\tmodal && Modal.bodyStyle(isOpen, modal);\n\t\t\t},\n\t\t\tafter: (id, isOpen)=>{\n\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<Portal id={id} mountTo={mountTo} isOpen={isOpen} {...toggle} className={className}>\n\t\t\t\t<div className={classNames(\"modal\", {\n\t\t\t\t\t[size]: true\n\t\t\t\t})}>\n\t\t\t\t\t<Paper zDepth={2} style={style}>\n\t\t\t\t\t\t<header className=\"clearfix\">\n\t\t\t\t\t\t\t{ closeButton && (()=>{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"modal-close\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"icon material-icons\" onClick={e=>{\n\t\t\t\t\t\t\t\t\t\t\tPortal.toggle(id, false);\n\t\t\t\t\t\t\t\t\t\t\tonClose && onClose(e, id);\n\t\t\t\t\t\t\t\t\t\t}}>close</i>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})() }\n\t\t\t\t\t\t\t{header && (\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t\t{ header }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t\t{ this.props.children }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t</Portal>\n\t\t);\n\t}\n}\n\nexport default Modal"]}