{"version":3,"sources":["components/Pagination/Pagination.js"],"names":["Pagination","props","state","setState","pages","visible","first","last","limit","total","page","onChange","parseInt","Math","ceil","currentPage","lowerLimit","upperLimit","min","b","pagination","e","handlePrevNextClick","push","i","disabled","preventDefault","propTypes","oneOfType","bool","func","defaultProps","link"],"mappings":"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","file":"Pagination.js","sourcesContent":["import React, {Component, PropTypes} from 'react'\n\nimport { Button } from 'mui'\nclass Pagination extends Component {\n  static propTypes = {\n    // limit: PropTypes.number,\n    // total: PropTypes.number,\n    // page: PropTypes.number,\n    // link: PropTypes.string\n    onChange: PropTypes.oneOfType([\n      PropTypes.bool, PropTypes.func\n    ])\n  };\n\n  static defaultProps = {\n    visible: 10,\n    first: true,\n    last: true,\n    limit: 10,\n\t\ttotal: 10,\n    link: '/page/',\n    onChange: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = props;\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({...props})\n  }\n\n  render() {\n    return (\n      <div className=\"pagination\">\n        { this.pages(this.props) }\n      </div>\n    );\n  }\n\n  pages(props){\n    let {\n      visible, first, last,\n      limit, total, page, onChange\n    } = props;\n\n    limit = parseInt(limit);\n    total = parseInt(total);\n    page  = parseInt(page);\n\n    if ( !limit || !total || !page ) return null;\n\n    const pages = Math.ceil(total / limit);\n    visible = pages > visible ? visible == 2 ? 3 : visible : pages;\n\n    let currentPage, lowerLimit, upperLimit;\n    currentPage = lowerLimit = upperLimit = Math.min(page, pages);\n\n    for (let b = 1; b < visible && b < pages;) {\n      if (lowerLimit > 1 ) { lowerLimit--; b++; }\n      if (b < visible && upperLimit < pages) { upperLimit++; b++; }\n    }\n\n    const pagination = [\n      <Button className=\"prev\" icon='chevron_left'\n              disabled={page <= 1} key={'prev'}\n              onClick={e=>{\n                onChange && onChange((page - 1), e);\n                return Pagination.handlePrevNextClick(e,page <= 1);\n              }}/>\n    ];\n\n    if ( first && lowerLimit > 1 && visible >= 3 ) {\n      lowerLimit++;\n      pagination.push(\n        <Button text={1} key={'first'}\n                onClick={e=>{onChange && onChange(1, e)}} />,\n        <Button text={'...'} key={'lDots'} disabled/>\n      )\n    }\n\n    if ( last && upperLimit < pages && visible >= 3 ) {\n      upperLimit--;\n    }\n\n    for (let i = lowerLimit; i <= upperLimit; i++) {\n      if (i == currentPage) {\n        pagination.push(\n          <Button text={i} key={i} primary disabled={true} />\n        );\n      }\n      else {\n        pagination.push(\n          <Button text={i} key={i} white\n                  onClick={e=>{onChange && onChange(i, e)}} />\n        );\n      }\n    }\n\n    if ( last && upperLimit < pages && visible >= 3 ) {\n      pagination.push(\n        <Button text={'...'} key={'rDots'} disabled/>,\n        <Button text={pages} key={'last'}\n                onClick={e=>{onChange && onChange(pages, e)}} />\n      )\n    }\n\n    pagination.push(\n      <Button className=\"prev\" icon='chevron_right'\n              disabled={page >= pages} key={'next'}\n              onClick={e=>{\n                onChange && onChange((page + 1), e);\n                return Pagination.handlePrevNextClick(e,page >= 1);\n              }}/>\n    );\n\n    return pagination;\n\n  }\n\n  static handlePrevNextClick(e, disabled) {\n    if ( disabled ){\n      e.preventDefault();\n      return false\n    }\n  }\n}\n\nexport default Pagination"]}